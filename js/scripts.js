"use strict";document.addEventListener("DOMContentLoaded",function(){var c={movies:["Логан","Лига справедливости","Ла-ла лэнд","Одержимость","Скотт Пилигрим против..."],add:function(e){this.movies.push(e)},delete:function(e,o){this.movies=this.movies.filter(function(e){return e!==o}),console.log('Film "'.concat(o,'" deleted')),console.log("movieDB.movies после удаления:",c.movies)}},d={adv:document.querySelectorAll(".promo__adv img"),poster:document.querySelector(".promo__bg"),genre:document.querySelector(".promo__genre"),movieList:document.querySelector(".promo__interactive-list"),addForm:document.querySelector(".add"),addInput:document.addForm.elements.film_name,checkbox:document.addForm.elements.favorite};console.log("movieDB.movies до изменений:",c.movies),d.addForm.addEventListener("submit",function(e){e.preventDefault();var o=d.addInput.value,t=d.checkbox.checked;if(o){o=21<o.length?"".concat(o.slice(0,22),"..."):o,t&&console.log("Добавляем любимый фильм"),c.add(o),i(c.movies);var n=s(c,d.movieList);m(d.movieList,n),console.log("movieDB.movies после добавления:",c.movies)}e.target.reset()}),d.adv.forEach(function(e){e.remove()}),d.genre.textContent="Драмма",d.poster.style.background='url("images/bg.jpg")';var e=s(c,d.movieList);function m(e,o){e.insertAdjacentHTML("afterbegin",o),document.querySelectorAll(".delete").forEach(function(e,o){e.addEventListener("click",function(e){!function(e,o){var t=e.target,n=t.parentNode.textContent,i=n.slice(n.indexOf(" ")).trim();c.delete(o,i),t.parentNode.remove();var r=s(c,d.movieList);m(d.movieList,r)}(e,o)})})}function s(e,o){var t=e.movies;return o.innerHTML="",i(c.movies),t.reduce(function(e,o,t){return e+(n=o,'<li class="promo__interactive-item">'.concat(t+1," ").concat(n,'\n                    <div class="delete"></div>\n                </li>'));var n},"")}function i(e){e.sort()}m(d.movieList,e)});